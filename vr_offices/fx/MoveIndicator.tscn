[gd_scene load_steps=5 format=3]

[ext_resource type="Script" path="res://vr_offices/fx/MoveIndicator.gd" id="1"]

[sub_resource type="PlaneMesh" id="PlaneMesh_1"]
size = Vector2(1, 1)

[sub_resource type="Shader" id="Shader_1"]
code = "shader_type spatial;\nrender_mode unshaded, cull_disabled, blend_mix, depth_draw_never;\n\nuniform vec4 u_color : source_color = vec4(1.0, 0.92, 0.45, 0.85);\nuniform float u_pulse = 0.0;\n\nvoid fragment() {\n\tvec2 uv = UV * 2.0 - 1.0;\n\tfloat d = length(uv);\n\t// Ring thickness and softness vary slightly with pulse.\n\tfloat ring = 0.78 + 0.04 * u_pulse;\n\tfloat thick = 0.10 + 0.04 * u_pulse;\n\tfloat a = smoothstep(ring + thick, ring, d) * smoothstep(ring - thick, ring, d);\n\t// Soft center glow.\n\tfloat glow = smoothstep(0.95, 0.0, d) * 0.12;\n\tALBEDO = u_color.rgb;\n\tALPHA = clamp(a * u_color.a + glow * u_color.a, 0.0, 1.0);\n}\n"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1"]
shader = SubResource("Shader_1")

[node name="MoveIndicator" type="Node3D"]
script = ExtResource("1")

[node name="Mesh" type="MeshInstance3D" parent="."]
rotation = Vector3(-1.5708, 0, 0)
mesh = SubResource("PlaneMesh_1")
material_override = SubResource("ShaderMaterial_1")
